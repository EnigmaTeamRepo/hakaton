{"version":3,"file":"js/975.edca9802.js","mappings":"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","sources":["webpack://client/./src/helpers/maskAmount.js","webpack://client/./src/pages/PayInOutPage.vue","webpack://client/./src/helpers/utils.js","webpack://client/./src/pages/PayInOutPage.vue?6d57"],"sourcesContent":["export const maskAmount = (value) => {\n    const newValue = prepareAmount(value)\n    return formatAmount(newValue)\n}\n\nconst formatAmount = (value) => {\n    return String(value).replace(/(\\d)(?=(\\d{3})+(\\D|$))/g, '$1 ')\n}\n\nconst prepareAmount = (string) => {\n    let value = String(string)\n        .replace(',', '.')\n        .replace(/[^\\d.]/g, '')\n        .split('.')\n        .filter(function (item, i) {\n            return i <= 1\n        })\n    value[0] = value[0].replace(/[^\\d]/g, '')\n    if (value.length > 1) {\n        value[1] = value[1].replace(/[^\\d]/g, '').substring(0, 2)\n    }\n\n    return value.join('.')\n}","<template lang=\"\">\n  <div class=\"pay-in-out\">\n    <div class=\"tabs\">\n      <button\n        class=\"base-button\"\n        :class=\"{'base-button--active': currentState === 0}\"\n        @click=\"changeState(0)\"\n      >\n        пополнение\n      </button>\n      <button\n        class=\"base-button\"\n        :class=\"{'base-button--active': currentState === 1}\"\n        @click=\"changeState(1)\"\n      >\n        вывод средств\n      </button>\n    </div>\n\n    <div class=\"account-preview\">\n      <img\n        src=\"~@/assets/img/rub-icon.svg\"\n        alt=\"currency-icon\"\n      >\n      {{ name }}\n\n      <span class=\"value\"> {{ balance.toLocaleString() }} {{ symbol }}</span>\n    </div>\n\n    <VInput\n      :title=\"'Введите сумму, руб'\"\n      style=\"margin-top: 40px\"\n    >\n      <input\n        v-model=\"inputValue\"\n        type=\"text\"\n        placeholder=\" \"\n        @input=\"onInputHandler\"\n      >\n    </VInput>\n\n    <VButton\n      style=\"margin-top: 43px\"\n      @click=\"onSubmitHandler\"\n    >\n      {{ buttonText }}\n    </VButton>\n  </div>\n</template>\n<script>\nimport { computed, reactive, ref } from '@vue/reactivity'\nimport {maskAmount} from '@/helpers/maskAmount'\nimport {normalizeNumber} from '@/helpers/utils'\n\nexport default {\n  name: 'PayInOutPage',\n  setup() {\n    const currentState = ref(0)\n    const balance = ref(55000)\n    const inputValue = ref('')\n    const account = reactive(   {\n      \"id\": 1,\n      \"currency\": \"643\",\n      \"bill_number\": \"4c217771-684a-4083-8ac2-cece9a560b0f\",\n      \"bill_amount\": 0\n      })\n    \n    const crurrencySymbol = {\n      '643': '₽',\n      '840': '$',\n      '978': '€'\n    }\n\n    const crurrencyName = {\n      '643': 'Рубль',\n      '840': 'Доллар',\n      '978': 'Евро'\n    }\n\n    const symbol = crurrencySymbol[account.currency]\n    const name = crurrencyName[account.currency]\n  \n    const buttonText = computed(() => {\n      return currentState.value ? 'вывести - руб.' : 'пополнить счет'\n    })\n    \n    function changeState(value) {\n      currentState.value = value\n    }\n\n    function onInputHandler(event) {\n      inputValue.value = maskAmount(event.target.value)\n    }\n\n    function onSubmitHandler() {\n      const amount = normalizeNumber(inputValue.value)\n      console.log(amount);\n      \n      if(amount > 0) {\n        console.log(currentState.value)\n        \n        if(currentState.value) alert('Выведено ' + amount)\n        else alert('Пополняем на сумму ' + amount)\n      }\n    }\n\n    return {\n      currentState,\n      buttonText,\n      symbol,\n      name,\n      balance,\n      inputValue,\n      changeState,\n      onInputHandler,\n      onSubmitHandler\n    }\n  }\n}\n</script>\n<style src=\"@/scss/payInOut.scss\" lang=\"scss\"></style>\n","export const normalizeNumber = (value) => {\n    return Number(String(value).replace(/\\s/g, ''))\n}\n","import { render } from \"./PayInOutPage.vue?vue&type=template&id=4886ffa0&lang=true\"\nimport script from \"./PayInOutPage.vue?vue&type=script&lang=js\"\nexport * from \"./PayInOutPage.vue?vue&type=script&lang=js\"\n\nimport \"@/scss/payInOut.scss?vue&type=style&index=0&lang=scss\"\n\nimport exportComponent from \"/home/nikita/study/client/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["maskAmount","value","newValue","prepareAmount","formatAmount","String","replace","string","split","filter","item","i","length","substring","join","class","_createElementVNode","src","_imports_0","alt","_createElementBlock","_hoisted_1","_hoisted_2","$setup","onClick","_hoisted_3","_hoisted_4","_hoisted_5","toLocaleString","_createVNode","_component_VInput","title","style","type","placeholder","onInput","_component_VButton","normalizeNumber","Number","name","setup","currentState","ref","balance","inputValue","account","reactive","crurrencySymbol","crurrencyName","symbol","currency","buttonText","computed","changeState","onInputHandler","event","target","onSubmitHandler","amount","console","log","alert","__exports__","render"],"sourceRoot":""}