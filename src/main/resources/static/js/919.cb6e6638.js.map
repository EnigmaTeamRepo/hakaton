{"version":3,"file":"js/919.cb6e6638.js","mappings":"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","sources":["webpack://client/./src/helpers/maskAmount.js","webpack://client/./src/components/VCurrencyListItem/VCurrencyListItem.vue","webpack://client/./src/components/VCurrencyListItem/VCurrencyListItem.vue?5c32","webpack://client/./src/pages/BuySellPage.vue","webpack://client/./src/pages/BuySellPage.vue?73ed"],"sourcesContent":["export const maskAmount = (value) => {\n    const newValue = prepareAmount(value)\n    return formatAmount(newValue)\n}\n\nconst formatAmount = (value) => {\n    return String(value).replace(/(\\d)(?=(\\d{3})+(\\D|$))/g, '$1 ')\n}\n\nconst prepareAmount = (string) => {\n    let value = String(string)\n        .replace(',', '.')\n        .replace(/[^\\d.]/g, '')\n        .split('.')\n        .filter(function (item, i) {\n            return i <= 1\n        })\n    value[0] = value[0].replace(/[^\\d]/g, '')\n    if (value.length > 1) {\n        value[1] = value[1].replace(/[^\\d]/g, '').substring(0, 2)\n    }\n\n    return value.join('.')\n}","<template>\n  <div class=\"currency-item\">\n    <span\n      class=\"icon\"\n      :style=\"{'color': currencyColor, 'background-color': bgColor}\"\n    >{{ currencySymbol }}</span>\n    <span class=\"name\">{{ currency }}</span>\n\n    <span class=\"value\"> {{ valueFormatted }} {{ currencySymbol }}</span>\n  </div>\n</template>\n<script>\nexport default {\n    name: 'VCurrencyListItem',\n    props: {\n        currencyCode: {\n            type: Number,\n            required: true\n        },\n        value: {\n            type: Number,\n            required: true\n        },\n    },\n\n    setup(props) {\n        const currencyNames = {\n            \"643\": 'руб',\n            '840': 'Доллар',\n            '978': 'Евро'\n\n        }\n        const currencyColors = {\n            \"643\": '#E88717',\n            '840': '#50B600',\n            '978': '#32A2E1'\n        }\n        const bgColors = {\n            \"643\": '#FFCA2B',\n            '840': '#73F010',\n            '978': '#3BE9E9'\n        }\n\n        const currencySymbols = {\n            \"643\": '₽',\n            '840': '$',\n            '978': '€'\n        }\n        const valueFormatted = props.value.toLocaleString()\n        const currency = currencyNames[props.currencyCode]\n        const currencyColor = currencyColors[props.currencyCode]\n        const bgColor = bgColors[props.currencyCode]\n        const currencySymbol = currencySymbols[props.currencyCode]\n        return {\n            valueFormatted,\n            currency,\n            currencyColor,\n            bgColor,\n            currencySymbol \n        }\n    }\n\n}\n</script>\n<style src=\"./style.scss\" lang=\"scss\"></style>\n","import { render } from \"./VCurrencyListItem.vue?vue&type=template&id=5cf94d66\"\nimport script from \"./VCurrencyListItem.vue?vue&type=script&lang=js\"\nexport * from \"./VCurrencyListItem.vue?vue&type=script&lang=js\"\n\nimport \"./style.scss?vue&type=style&index=0&lang=scss\"\n\nimport exportComponent from \"/home/nikita/study/client/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <div class=\"buy-sell\">\n    <button\n      class=\"base-button base-button--accent\"\n      style=\"margin-bottom: 24px\"\n      @click=\"back\"\n    >\n      назад\n    </button>\n\n    <h2>{{ title }}</h2>\n        \n    <div class=\"label\">\n      счет списания\n    </div>\n    <VCurrencyListItem\n      :currency-code=\"currency\"\n      :value=\"accountValue\"\n    />\n\n    <VInput :title=\"'Введите кол-во'\">\n      <input\n        v-model=\"amount\"\n        type=\"text\"\n        placeholder=\" \"\n      >\n    </VInput>\n\n    <div class=\"action-title\">\n      {{ actionTitleText }} {{ amountFormatted }} руб.\n    </div>\n\n    <VButton style=\"margin-button: 32px\" @click=\"onSubmitHandler\">\n      {{ buttonText }}\n    </VButton>\n  </div>\n</template>\n<script>\nimport VCurrencyListItem from '@/components/VCurrencyListItem/VCurrencyListItem.vue'\nimport { maskAmount } from '@/helpers/maskAmount'\nexport default {\n    name: 'BuySellPage',\n    components: { VCurrencyListItem },\n    data() {\n        return {\n            // TODO Валидация\n            amount: ''\n        }\n    },\n    computed: {\n        currency() {\n            return Number(this.$route.query?.currency)\n        },\n        title() {\n            return this.$route.query?.action === 'buy' ? 'Покупка валюты' : 'Продажа валюты'\n        },\n        buttonText() {\n            return this.$route.query?.action === 'buy' ? 'Купить валюту' : 'Продать валюту'\n        },\n        actionTitleText() {\n            return this.$route.query?.action === 'buy' ? 'К списанию: ' : 'Получите: '\n        },\n        accountValue() {\n            return 56500\n        },\n        amountFormatted() {\n            return this.amount ? maskAmount(this.amount) : '-'\n        } \n    },\n    methods: {\n        back() {\n            this.$router.go(-1)\n        },\n        onSubmitHandler() {\n            if(this.amount) {\n                alert('Операция на : ' + this.amountFormatted + 'руб')\n            }\n        }\n    }\n}\n</script>\n<style src=\"@/scss/buySell.scss\" lang=\"scss\"></style>","import { render } from \"./BuySellPage.vue?vue&type=template&id=158cf628\"\nimport script from \"./BuySellPage.vue?vue&type=script&lang=js\"\nexport * from \"./BuySellPage.vue?vue&type=script&lang=js\"\n\nimport \"@/scss/buySell.scss?vue&type=style&index=0&lang=scss\"\n\nimport exportComponent from \"/home/nikita/study/client/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["maskAmount","value","newValue","prepareAmount","formatAmount","String","replace","string","split","filter","item","i","length","substring","join","class","_createElementBlock","_hoisted_1","_createElementVNode","style","$setup","_hoisted_2","_hoisted_3","name","props","currencyCode","type","Number","required","setup","currencyNames","currencyColors","bgColors","currencySymbols","valueFormatted","toLocaleString","currency","currencyColor","bgColor","currencySymbol","__exports__","render","onClick","$options","_createVNode","_component_VCurrencyListItem","_component_VInput","title","$data","placeholder","_component_VButton","components","VCurrencyListItem","data","amount","computed","this","$route","query","action","buttonText","actionTitleText","accountValue","amountFormatted","methods","back","$router","go","onSubmitHandler","alert"],"sourceRoot":""}